# General
# -------------------------------------------------------------------------------------------------

# Enable copy to clipboard when yanking
tmux_conf_copy_to_os_clipboard=true

# Increase history size
set -g history-limit 10000

# Force Vi mode
set -g status-keys vi
set -g mode-keys vi
set-window-option -g mode-keys vi

# Address vim mode switching delay (http://superuser.com/a/252717/65504)
set -s escape-time 0

# To enable mouse scroll in tmux pane
set -g mouse on

# Tmux to support colors
set -g default-terminal "screen-256color"

# Enable RGB 24-bit colour support (tmux >= 2.2)
tmux_conf_theme_24b_colour=true

# Tmux messages are displayed for 4 seconds
set -g display-time 4000

# Refresh 'status-left' and 'status-right' more often
set -g status-interval 5

# Focus events enabled for terminals that support them
set -g focus-events on

# Super useful when using "grouped sessions" and multi-monitor setup
setw -g aggressive-resize on

# Auto restore last session
set -g @continuum-restore 'on'

# 1Password filter results by password tag
set -g @1password-items-jq-filter '.[] | [select(.overview.tags | map(select(. == "enable-terminal")) | length == 1)?] | map([ .overview.title, .uuid ] | join(",")) | .[]'

# Start window counting at 1
set -g base-index 1

# Status bar
# -------------------------------------------------------------------------------------------------

set -g @dracula-cpu-usage true
set -g @dracula-show-left-icon session
set -g @dracula-show-timezone false
set -g @dracula-show-fahrenheit false
set -g @dracula-show-powerline true

# Keybindings
# -------------------------------------------------------------------------------------------------

# Change the default prefix from C-b to C-c
set -g prefix M-a
bind M-a send-prefix
unbind C-b

# Add some Vim functionality
bind -T copy-mode-vi 'v' send -X begin-selection
bind -T copy-mode-vi 'y' send -X copy-selection-and-cancel

# Navigate between panes with arrows
bind -n 'M-Left' select-pane -L
bind -n 'M-Down' select-pane -D
bind -n 'M-Up' select-pane -U
bind -n 'M-Right' select-pane -R

# Navigate between panes with vim commands
bind -n 'M-h' select-pane -L
bind -n 'M-k' select-pane -D
bind -n 'M-j' select-pane -U
bind -n 'M-l' select-pane -R

# Navigate between windows with ALÎ¤ key
bind -n 'M-1' select-window -t 1
bind -n 'M-2' select-window -t 2
bind -n 'M-3' select-window -t 3
bind -n 'M-4' select-window -t 4
bind -n 'M-5' select-window -t 5
bind -n 'M-6' select-window -t 6
bind -n 'M-7' select-window -t 7
bind -n 'M-8' select-window -t 8
bind -n 'M-9' select-window -t 9
bind -n 'M-0' select-window -t 0

# Plugins
# -------------------------------------------------------------------------------------------------

set -g @tpm_plugins '             \
  tmux-plugins/tpm                \
  tmux-plugins/tmux-yank          \
  tmux-plugins/tmux-copycat       \
  tmux-plugins/tmux-pain-control  \
  dracula/tmux                    \
'

run -b '~/.tmux/plugins/tpm/tpm'
